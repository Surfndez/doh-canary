



Network Working Group                                            A. Andy
Internet-Draft                                            P. Saint-Andre
Intended status: Standards Track                                 Mozilla
Expires: December 28, 2019                                 June 26, 2019


                       draft-grover-doh-canary-00

Abstract

   This document specifies the behavior that is expected from the Domain
   Name System with regard to DNS queries for names ending with
   'TBD.arpa.' and designates this domain as a special-use domain name.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 28, 2019.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.






Andy & Saint-Andre      Expires December 28, 2019               [Page 1]

Internet-Draft         DNS Filtering Canary Domain             June 2019


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   3
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   3
   5.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   3
     5.1.  Normative References  . . . . . . . . . . . . . . . . . .   3
     5.2.  Informative References  . . . . . . . . . . . . . . . . .   3
   Appendix A.  Acknowledgements . . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   Content-control software filters (i.e., blocks) web requests that the
   user, the user's guardian, or the network operator deems
   objectionable or outside the usage policy of the network.  Blocked
   resource categories can include advertisements, explicit content,
   known malware, and government-unapproved material, along with many
   others.

   One way to implement content control that does not rely on software
   or settings on the end-user's computer is DNS-based content
   filtering, which examines a client's initial DNS request for the
   domain providing a resource and then either returns no result
   (NXDOMAIN) or returning an alternate result so that the user is
   presented with an explanation that filtering has taken place.

   DNS-based content filtering is often built into a network's
   configured DNS recursive resolver.  In addition to blocking a
   request, the software may also generate a log for use by the network
   administrators.

   A network operator might wish to provide, or be obligated to provide,
   content filtering to users of its network.  Because such filtering is
   often enforced by the network operator's DNS resolver, the use of a
   technology such as DNS over HTTPS [RFC8484] or DNS over TLS [RFC7858]
   can result in bypassing such content filtering.  If the user agent
   can check for the presence of content filtering, this could be used
   as a signal that the network operator wishes its resolver to be used
   as a condition of using the network and that DoH or DoT should be
   disabled.

   At present, there is no standardized mechanism for the user or user
   agent to identify the presence of content filtering on a network
   without making a request that could trigger content filtering and
   logging thereof, which could have undesirable side-effects.




Andy & Saint-Andre      Expires December 28, 2019               [Page 2]

Internet-Draft         DNS Filtering Canary Domain             June 2019


   Therefore, this document defines such a mechanism based on a so-
   called "canary domain" that is an instance of Special-Use Domain
   Names [RFC6176].  DNS requests for this domain would return different
   results when DNS-based content filtering is in place, allowing for
   the detection of filtering in a consistent way by user agents.

2.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  IANA Considerations

   IANA is requested to record the domain name 'TBD.arpa.' in the
   "Special-Use Domain Names" registry.

4.  Security Considerations

5.  References

5.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC6176]  Turner, S. and T. Polk, "Prohibiting Secure Sockets Layer
              (SSL) Version 2.0", RFC 6176, DOI 10.17487/RFC6176, March
              2011, <https://www.rfc-editor.org/info/rfc6176>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

5.2.  Informative References

   [RFC7858]  Hu, Z., Zhu, L., Heidemann, J., Mankin, A., Wessels, D.,
              and P. Hoffman, "Specification for DNS over Transport
              Layer Security (TLS)", RFC 7858, DOI 10.17487/RFC7858, May
              2016, <https://www.rfc-editor.org/info/rfc7858>.

   [RFC8484]  Hoffman, P. and P. McManus, "DNS Queries over HTTPS
              (DoH)", RFC 8484, DOI 10.17487/RFC8484, October 2018,
              <https://www.rfc-editor.org/info/rfc8484>.



Andy & Saint-Andre      Expires December 28, 2019               [Page 3]

Internet-Draft         DNS Filtering Canary Domain             June 2019


Appendix A.  Acknowledgements

   Thanks to Martin Thomson for his feedback.

Authors' Addresses

   Grover
   Mozilla

   Email: agrover@mozilla.com
   URI:   https://mozilla.com/


   Peter Saint-Andre
   Mozilla

   Phone: +1 720 256 6756
   Email: stpeter@mozilla.com
   URI:   https://mozilla.com/
































Andy & Saint-Andre      Expires December 28, 2019               [Page 4]
